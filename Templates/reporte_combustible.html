{% extends "layout.html" %}
{% block title %}Reporte de Combustible{% endblock %}
{% block main %}
<div class="container mt-4">
    <h3 class="mb-3 text-primary text-center">Reporte de Gasto de Combustibles</h3>
    <form method="get" class="row mb-3 justify-content-center">
        <div class="col-md-3 mb-2">
            <label class="form-label">Fecha:</label>
            <input type="date" name="fecha" class="form-control" value="{{ fecha or '' }}">
        </div>
        <div class="col-md-3 mb-2">
            <label class="form-label">Vehículo:</label>
            <select name="vehiculo" class="form-select">
                <option value="">Todos</option>
                {% for v in vehiculos %}
                    <option value="{{ v.ID_Vehiculo }}" {% if id_vehiculo|int == v.ID_Vehiculo %}selected{% endif %}>
                        {{ v.Placa }}
                    </option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-2 mb-2 align-self-end">
            <button type="submit" class="btn btn-primary w-100">Buscar</button>
        </div>
    </form>
    <div class="table-responsive">
        <table class="table table-striped table-hover align-middle">
            <thead class="table-dark">
                <tr>
                    <th>Fecha</th>
                    <th>Vehículo</th>
                    <th>Monto (C$)</th>
                    <th>Litros</th>
                    <th>Kilometraje</th>
                    <th>Observación</th>
                </tr>
            </thead>
            <tbody>
                {% for row in gastos %}
                <tr>
                    <td>{{ row.Fecha }}</td>
                    <td>{{ row.Placa }} - {{ row.Marca }} {{ row.Modelo }}</td>
                    <td>{{ row.Monto }}</td>
                    <td>{{ row.Litros or '' }}</td>
                    <td>{{ row.Kilometraje or '' }}</td>
                    <td>{{ row.Observacion }}</td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="6" class="text-center text-muted">No hay registros para mostrar.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
